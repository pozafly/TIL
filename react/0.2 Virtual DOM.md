# Virtual DOM

<br/>

## DOM의 성능

DOM에는 치명적인 한가지 문제점이 있음. 동적 UI에 최적화 되어있지 않다. HTML은 자체적으로 정적. Javascript를 사용하여 동적으로 만들 수 있음. 단, 규모가 큰 웹 어플리케이션에는 DOM에 직접 접근하여 변화를 주면 성능 이슈가 발생. 느려짐.

DOM 자체는 빠름. DOM 자체를 읽고 쓸 때의 성능은 Javascript 객체를 처리할 때의 성능과 비교해 다르지 않다. 단 웹의 DOM 변화가 일어나면 웹이 CSS를 다시 연산, 레이아웃 구성, 페이지를 리페인트 함. 이 과정에서 시간이 허비됨.

리액트는 Virtual DOM 방식으로 DOM 업데이트를 추상화 해 DOM 처리 횟수를 최소하 하고 효율적으로 진행함.

<br/>

## Virtual DOM

Virtual DOM을 사용하면 실제 DOM 에 접근하여 조작하는 대신, 이를 추상화 한 javascript 객체를 구성하여 사용. 마치 실제 DOM의 가벼운 사본과 비슷하다.

리액트에서 데이터가 변하여 웹 브라우저에 실제 DOM을 업데이트할 때 다음 3가지 절차를 따름.

1. 데이터를 업데이트하면 전체 UI를 Virtual DOM에 리렌더링 함.
2. 이전 Virtual DOM에 있던 내용과 현재 내용을 비교.
3. 바뀐 부분만 실제 DOM에 적용.

![스크린샷 2021-03-03 오전 9 35 45](https://user-images.githubusercontent.com/59427983/109734164-e1cd3400-7c03-11eb-876b-29043b31e451.png)

이게 실제 Virtual DOM.

<br/>

Virtual DOM을 사용한다 해서 무조건 빠른건 아님.

```
우리는 다음 문제를 해결하려고 리액드를 만들었습니다.
지속적으로 데이터가 변화하는 대규모 어플리케이션 구축하기.
```

위는 리액트 메뉴얼에 있는 문장임. 결국 적절한 곳에 사용해야 함. 중요한 것은 리액트와 Virtual DOM이 언제나 제공할 수 있는 것은 바로 `업데이트 처리 간결성` 이다. UI를 업데이트 하는 과정에서 생기는 복잡함을 모두 해소하고, 더욱 쉽게 업데이트에 접근할 수 있다.