# Malloc과 포인터 복습

데이터 구조를 정의하고 관리하는데 있어 메모리와 포인터에 대한 개념을 정확히 이해하는 것이 중요함.

## 핵심 단어

- 포인터
- malloc

---

```c
int main(void) {
  int *x;
  int *y;
  
  x = malloc(sizeof(int));
  
  *x = 42;
  *y = 13;
}
```

위 코드에는 버그가 있다. `*x = 42;` 정수를 저장하고 있다. `*`가 붙은 변수는 그쪽 주소로 가라는 뜻을 가지고 있다. x를 malloc을 통해 메모리를 확보하고, 그 주소를 x에 담았기 때뭉네 `*x`로 접근이 가능하다.

하지만, `*y = 13;` 코드에서는 버그가 있다. 메모리를 할당하지 않고, 주소로 접근했기 때문이다. 초기화 하지 않은 변수에는 무엇이 있는지 알 수 없다. 다른 프로그램의 쓰레기 값이 있을 수도 있다.

```c
y = x;
*y = 13;
```

이 코드라면 버그가 생기지 않는다. x 안에 있는 주소를 y에도 저장하는 것이다. 그리고, y를 위한 메모리 공간이 있어, 그 주소로 접근해 13을 넣는다. 그러면 x에서 넣었던 42이 사라지게 될 것이다. 같은 주소를 바라보고 있기 때문이다. -> 덮어 쓰게 된 것.
