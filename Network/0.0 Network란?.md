# Network란?

<br/>

## 1. ipconfig /all

: ip주소에 대한 정보를 알려줌.

> 외부ip : 1.212.146.34
>
> ip주소 : 192.168.1.80
>
> subnet : 255.255.255.0
>
> Gateway : 192.168.1.1

*유선으로 연결했을 때 : 이더넷어뎁터라고 함.

*서브넷마스크 : 

*게이트웨이 : url 치고 들어가면 ipTime이 나옴.

*외부ip : 공인 ip라고 함. 공유기 설정에 들어가면 외부ip를 알 수 있음.

*ip주소 : 사설 ip라고 함. 

*DHCP서버

  <br/>

 

## 2. ping [외부ip]

: 외부ip와 연결가능한지 확인. 

*패킷 : 잘개 쪼개진 단위를 패킷이라고 함. 통신의 최소단위. 내 ip주소, 상대방(목적지)ip주소, ... 등이 패킷에 들어있음.

 <br/>

 

## 3. LAN(Local Area Network)

 : local 끼리 네트워킹 할 수 있는 공간을 말함. 공유기 안에는 hub가 있음. lan에서 통신하기 위한 장비가 hub임. 공유기는 무선 hub를 사용한다.

예를들어 다른 곳에서 우리집으로 ping을 찍으면 안찍힘. LAN환경이 아니기 때문.

Gateway : 192.168.1.1 는 즉, 1은 무조건 공유기가 사용하고 있다.

### 브로드캐스트주소 : 192.168.1.255

ping 192.168.1.45 이렇게 하면 공유기에 연결되어있는 모든 컴퓨터에 브로드캐스트주소를 보낸다. 이 요청을 모든 컴퓨터에서 수신하고, 해당안된 컴퓨터는 무시하고, 해당 컴퓨터만 응답함. 보낼 때, 내 ip주소도 보내고, MAC주소도 보냄. 하지만, 한번 연결되었다고 하면, 한번 찾아온 MAC주소는 공유기에 캐시로 저장이 됨. 따라서 모든 컴에 다시 브로드캐스트주소를 요청하진 않음.

### MAC주소

 : ip주소는 기계적 ip주소가 아님. sw적으로 세팅된 주소임. 모든 네트워크 카드에는 기계적 ip가 있음. 기계적 주소를 MAC주소라고 함.

 <br/>

 

## 4. 서브넷마스크(255.255.255.0)

 : LAN, WAN인가 구분한다. ping 했을 때, 즉시 서브넷마스크 연산을 한다. 패킷도 보내기 전에. ip와 서브넷마스크를 비트연산한다. 이게 맞다면 LAN임을 확인.

 

ex)

192.168.1.80

11000000.10101000.00000001.01010000

   +11111111.11111111.11111111.00000000 ==> 서브넷마스크

   -------------------------------------------(bit and 연산)

11000000.10101000.00000001.00000000 ==> 192.168.1.0 이 나옴. 즉, 이게 '네트워크' 주소임.

 

192.168.1.45

11000000.10101000.00000001.00101011

 

단, 외부 ip 211.57.200.237 이 주소로 서브넷마스크 비트연산 한다면, 네트워크 주소가 없기 때문에 LAN이 아니라는 것을 판단. WAN으로 찾는다.

WAN이면, 외부 IP로 패킷을 보낸다. 제일 먼저 게이트웨이로 보낸다. 라우터에 있는 외부 IP주소가 공유기를 통해 253개의 주소로 나눠줌.

 <br/>

## 5. WAN()

 : 세계적인 네트워크 공간. 이때는 브로드캐스트 주소를 보내지 않는다. 모든 컴퓨터에 192.168.1.255 이걸 줄 수 없으므로. 다른 방식을 사용한다.

 ping 211.57.200.237

 WAN은 또다른 LAN 안에 있다. 

제일 먼저 시작은 서브넷마스킹 후 나의 LAN이 아닌 것을 확인하고, 패킷을 공유기(GATEWAY)한테 보낸다. 그 후 공인IP주소(외부IP주소)로 보낸다. 이 외부IP주소는 돈주고 산 통신 주소임(모뎀 즉, 라우터). 통신사에서 제공하는 모뎀(라우터)에 외부 IP주소가 있음. 패킷을 보낼 때 사설IP를 라우터에 있는 외부IP로 바꾸고, 다른 미국에 있는 외부 IP에 도달, 그리고 다시 받을 때는 라우터로 받고(나의 외부 IP), 다시 공유기가 사설IP로 바꿔서 내 컴퓨터로 응답이 됨.

<br/> [EX] ping 211.57.200.237

*패킷은 보낼 때, 192.168.1.80(내 사설IP) 211.57.200.237(미국 외부IP) 이렇게.

단, 내 공유기가 내 사설IP가 내 외부IP로 바꿔서 보냄. 1.212.146.34(내 외부IP) 211.57.200.237(미국 외부IP)

 

192.168.1.80(사설IP) ---> 192.168.1.1(공유기) ---> 1.212.146.34(ROUTER, 외부IP) --WAN통신시작--> 미국 ---> 211.57.200.237(ROUTER, 외부IP) ---> 한국 ---> 1.212.146.34(ROUTER, 외부IP) ---> 192.168.1.1(공유기) ---> 192.168.1.80(사설IP) 

※IPv6

IPv4 : 32비트 -> 전세계 IP주소가 부족하게 됨.

IPv6 : 128비트

 <br/>

## 6. DNS서버

 : 문자열을 ip주소로 매핑시켜줌.

seoulit.co.kr => url을 하면 DNS서버로 보내고 해당 IP주소를 줌. 그럼 내 컴퓨터로 다시 IP 주소를 받아와서 그 IP로 네트워킹을 시도함. 회사에는 모든 IP가 방화벽 쳐져있을텐데 회사에서 주는 DNS서버IP를 주면 그러쓰면 된다.

※DHCP서버 : Dynamic Host Configuration Protocal. 동적으로 사설 ip를 할당해주는 서버. 서브넷마스크와 

*hosts : 컴퓨터끼리 통신을 하는데, 초창기에 컴퓨터가 몇개 안됨. dns서버가 존재하지 않음. 미국에 총 10개의 컴퓨터밖에 없을 때, 앞에는 ip주소, 뒤에는 문자열. 문자열로 통신을 했음. 이 문자열을 나중에 도메인이라고 하게 됨.