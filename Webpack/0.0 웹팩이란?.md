# 웹팩이란?

웹팩(webpack)은 JS 로 만든 프로그램을 배포하기 좋은 형태로 묶어주는 도구. 즉, 최신 프론트엔드 프레임워크에서 가장 많이 사용되는 모듈 번들러임. 모듈 번들러는 웹 애플리케이션을 구성하는 자원(HTML, CSS, Javascript, Images 등) 을 모두 각각의 모듈로 보고 이를 조합해서 병합된 하나의 결과물을 만드는 도구를 의미함. 

2000년대 초반 웹 페이지는 페이지가 전환될 때마다 새로운 HTML 파일을 요청해 화면을 새로 그렸다. 그당시 JS는 DOM을 조작하는 간단한 역할만 했기 때문에 코드의 양이 많지 않았음. 한두 개의 JS파일을 HTML의 script 태그를 이용해 서비스하는 방식이면 충분. Ajax가 유행했을 때는 JS 비중이 조금 더 커졌지만 많아 봐야 페이지당 JS 파일 열 개 정도 수준.

그런데 웹사이트 제장 방식이 SPA로 전환되며 상황은 달라짐. 한 페이지에도 JS 파일이 수십 또는 수백개가 필요해졌다.

```html
<html>
  <head>
    <script type="text/javascript" src="js_file_1.js"></script>
    <script type="text/javascript" src="js_file_2.js"></script>
    <!-- ... -->
    <script type="text/javascript" src="js_file_999.js"></script>
  </head>
</html>
```

이런 식으로 계속 늘어나는 JS 파일을 관리하기 힘들다. 파일간 의존성 때문에 선언되는 순서를 신경써야하고, 뒤에 선언된 JS 파일이 앞에 선언된 파일에서 생성한 전역 변수를 덮어쓰는 위험도 존재.

---

📌 자바스크립트 모듈 시스템

C++나 Java에서는 include, import로 한 파일에서 다른 파일의 코드를 가져다 쓸 수 있다. 이때 모듈 측에서 필요한 부분만 내보내는 방법이 필요하고, 사용하는 측에서는 필요한 것만 가져다 쓸 방법이 필요하다. 이렇게 내보내고 가져다 쓸 수 있도록 구현된 시스템이 모듈 시스템임.

JS에서는 ES6부터 모듈 시스템이 언어 차원에서 지원됨. ES6 이전부터 JS의 모듈 시스템을 요구하는 개발자가 많았음. 그래서 등장한 대표적인 JS 모듈 시스템이 commonJS다. node.js가 commonJS 표준을 따르면서 commonJS가 널리 퍼짐. 현재 많은 수의 오픈소스가 commonJS 모듈 시스템으로 구현되어 있음.

---

웹펙은 ESM(ES6 모듈 시스템)과 commonJS를 모두 지원함. 이들을 이용해 코드를 작성하고 웹팩을 실행하면 예전 버전의 브라우저에서도 동작하는 JS 코드를 만들 수 있음. 웹팩을 실행하면 보통은 하나의 JS 파일이 만들어지는데, 원한다면 여러 개의 파일로 분할할 수도 있음. 우리가 할 일은 웹팩이 만들어 준 JS 파일을 HTML의 script 태그에 포함시키는 것이다.

<br/>

## 모듈이란?

프로그래밍 관점에서 특정 기능을 갖는 작은 코드 단위.

<br/>

## 웹팩에서의 모듈

웹팩에서 지칭하는 모듈이라는 개념은 JS 모듈에만 국한되지 않고 웹 애플리케이션을 구성하는 모든 자원을 의미함. 웹 애플리케이션을 제작하려면 HTML, CSS, Javascript, Images, Font 등 많은 파일이 필요함. 이 파일 하나하나가 모두 모듈임.

<br/>

## 모듈 번들링이란?

그림과 같이 웹 애플리케이션을 구성하는 몇십, 몇백개의 자원들을 하나의 파일로 병합 및 압축 해주는 동작을 모듈 번들링이라고 함.

![webpack](https://user-images.githubusercontent.com/59427983/115992873-dd713600-a60a-11eb-93e4-0e1bd1cb08a6.png)

※ 빌드, 번들링, 변환 이 세 단어 모두 같은 의미임.