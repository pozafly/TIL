# 0.3 This

다른 대부분 객체지향 언어에서 this는 클래서로 생성한 인스턴스 객체를 의미함. class에서만 사용 가능. 하지만, 자바스크립트에서의 this는 어디에서나 사용 가능함.

함수와 객체(메서드)의 구분이 느슨한 자바스크립트에서 this는 실질적으로 이 둘을 구분하는 거의 유일한 기능.

---

## 정리

아래는 명시적 this 바인딩이 없는 한 늘 성립한다.
- 전역 공간에서의 this는 전역객체(window, global) 을 참조.
- 함수를 메서드로 호출한 경우 this는 메서드 호출 주체(메서드명 앞의 객체)를 참조.
- 함수를 함수로 호출한 경우 this는 전역 객체를 참조. 메서드의 내부함수에서도 마찬가지.(forEach의 콜백)
- 콜백 함수 내부에서의 this는 해당 콜백 함수의 제어권을 넘겨받은 함수가 정의한 바에 따르며, 정의하지 않은 경우 전역객체를 참조.
- 생성자 함수에서의 this는 생성될 인스턴스를 참조.

다음은 명시적 this 바인딩.
- call, apply 메서드는 this를 명시적으로 지정하면서 함수 또는 메서드를 호출.
- bind 메서드는 this 및 함수에 넘길 인수를 일부 지정해 새로운 함수를 만든다.
- 요소를 순회하며 콜백 함수를 반복 호출하는 내용의 일부 메서드는 별도의 인자로 this를 받기도 함.(forEach)

---

## 질문

1. '함수로서 호출'과 '메서드로서 호출'은 어떻게 구분하는가?
2. 화살표 함수의 this에 대해서 설명?
3. 콜백 함수의 this에 대해서 설명?
4. 명시적으로 this를 함수에 바인딩 하는 방법은?

<br/>

## 답

1. 함수를 호출 할 때, 함수 이름 앞에 점(.)이 있는지 여부만으로 구분할 수 있다. 점 표기법이든, 대괄호 표기법이든 상관 없다. 점 표기법의 경우 마지막 점 앞에 명시된 객체가 곧 this가 된다.
2. 화살표 함수의 this는 ES5 이전까지 함수의 this가 전역객체였기 때문에 this binding 자체가 없다. 따라서 화살표 함수는, 상위 스코프의 this를 this로 삼는다.
3. 콜백 함수는 함수이기 때문에 기본적으로 this가 전역 객체를 참조하지만, 제어권을 받은 함수에서 콜백함수에 별도로 this를 지정해준다면 그 대상을 참조한다.
4. call, apply, bind 등의 메서드를 사용해 명시적으로 this를 바인딩 할 수 있다.
