# OSI 2계층

'이더넷' 관련 기술인 L2 스위칭, 'VLAN(Virtual Local Area Network)'에 대해 알아봄.

<img width="1037" height="689" alt="Image" src="https://github.com/user-attachments/assets/ed5ec449-9b75-401d-be55-ad1f6213ee68" />

## OSI 2계층

<img width="959" height="641" alt="Image" src="https://github.com/user-attachments/assets/bc1f82c6-7b11-4af5-a71d-8fc79e67fce0" />

데이터 링크 계층(레이어 2, L2)임.

- 같은 네트워크에 있는 단말 식별
- 물리계층 위에서 비트 열을 정확하게 전송하는 매커니즘 제공
- 참고로 1계층(물리 계층)은 0, 1로 이루어진 디지털 테이터와 LAN 케이블이나 전파로 다루는 '신호'를 상화 변환 역할을 함.

### 프로토콜

- **유선 LAN**: IEEE802.3으로 정의된 '이더넷'
- **무선 LAN**: IEEE302.11으로 정의된 'Wi-Fi'

## 이더넷

- 어떤 포맷(형식)으로 캡슐화 할건지, 어떻게 오류 감지 할 것인지 정의 되어 있음.
- 이더넷으로 캡슐화된 패킷을 '**이더넷 프레임**' 이라고 함.

이더넷 2는 5가지 필드로 구성되어 있음.
- 프리앰블
- 목적지/발신자 MAC 주소
- 타입
- 이더넷 페이로드
- FCS(Frame Check Sequence)

프리앰블, 목적지/발신자 MAC 주소, 타입을 합쳐 '**이더넷 헤더**'라 함.

<img width="961" height="421" alt="Image" src="https://github.com/user-attachments/assets/56bb6ba1-f08d-4534-b317-6a61b89c189f" />

### 프리앰블

- 지금부터 이더넷 프레임을 보내겠다는 신호를 의미하는 8바이트 패턴.
- 맨 앞에 '10101010'이 7개, 마지막에 '10101011'이 1개 전송
- 수신자는 이더넷 프레임의 첫 번째 부여된 이 패턴을 보고 '이제 이더넷 프레임이 도착하겠구나' 판단

### 목적지/발신자 MAC 주소

- 이더넷 네트워크에 연결된 단말 식별 6바이트 ID.
- 수신 단말은 목적지 MAC 주소를 보고 자신의 주소라면 받고, 상관없는 주소라면 폐기.

### 타입

- 네트워크 계층(레이어 3)에서 어떤 프로토콜을 사용하고 있는지 나타내는 2바이트 ID.
- IPv4라면 0x0800, IPv6(0x86DD)등 사용하는 프로토콜 버전에 따라 값이 정해짐

### 이더넷 페이로드

- 네트워크 계층의 데이터 자체를 나타냄.
	- IP를 사용하면 '이더넷 페이로드=IP 패킷'

### FCS(Frame Check Sequence)

- 이더넷 프레임이 손상되지 않았는지 확인위한 4바이트 필드.
- 발신측
	- 목적지/발신자 MAC 주소, 타입, 이더넷 페이로드에 대해 일정 계선(체크섬 계산, CRC)수행
	- 결과를 FCS로 프레임 끝에 추가
- 수신측
	- 동일 계산 수행, FCS와 다르다면 이더넷 프레임이 깨진 것으로 판단, 폐기함
