# UDP

- 실시간 특화
- 데이터를 보내기 전 연결 협상처리와 보낼 때 응답 처리를 생략, 일방적으로 데이터를 계속 전송함.

![[Pasted image 20260120002042.png]]

| 항목             | UDP  | TCP |
| -------------- | ---- | --- |
| IP 헤더의 프로토콜 번호 | 17   | 6   |
| 유형             | 비연결형 | 연결형 |
| 신뢰성            | 낮음   | 높음  |
| 즉시성(실시간성)      | 빠름   | 느림  |

UDP는 상위 계층에서 받은 데이터를 'UDP 페이로드'하고, UDP 헤더를 붙여 UDP 데이터그램으로 만듦.

## UDP 패킷 형식

![[Pasted image 20260120002153.png]]

- 즉시성 때문에 형식 단순.
- 클라이언트(발신자)는 UDP 데이터그램 만들어 상대방 신경쓰지 않고 계속 보내기만 함.
- 반면 수신자는 UDP 헤더에 포함된 UDP 데이터그램 길이와 체크섬을 이용해 데이터 손상 여부만 확인.

### 1. 발신자/목적지 포트 번호

- 포트 번호는 애플리케이션(프로세스) 식별에 사용하는 2바이트 값.
- 클라는
	- **발신자 포트 번호**: OS가 정해진 범위에서 무작위로 지정한 값을
	- **목적지 포트 번호**: 어플리케이션 별로 정의된 값을 설정해 서버(목적지 단말)로 전송함.

### 2. UDP 데이터그램 길이

- UDP 헤더와 UDP 페이로드(어플리케이션 데이터)를 합한 전체 데이터그램의 크기를 나타내는 2바이트.

### 3. 체크섬

- 수신된 UDP 데이터그램이 손상되었는지 무결성 확인하는 2바이트.
- IP 헤더의 체크섬과 동일한 '1의 보수 연산'이 사용됨.

## 포트 번호

- 전송 계층 프로토콜에서 가장 중요한 필드는 '발신자 포트 번호', '목적지 포트 번호'.
- 포트 번호와 애플리케이션은 고유하게 연결되어 있어 포트 번호만 보면 어떤 애플리케이션 데이터를 전달해야 하는지 알 수 있음.'

![[Pasted image 20260120002929.png]]

- 0~65535까지 'System Ports(Well-Known Ports)', 'User Ports(Registered Ports)', 'Dynamic Ports(Private Ports)'의 3가지로 구분.
	- System Ports, User Ports는 주로 서버 어플리케이션을 식별
	- Dynamic Ports는 주로 클라 어플 식별

![[Pasted image 20260120003400.png]]

### 시스템 포트

- 0~1023
- ICANN의 IANA에서 관리.
- 일반적 서버 어플리케이션에 고유하게 매핑되어 있음.

![[Pasted image 20260120003522.png]]

### User Ports

- 1024 ~ 49151
- 제조 업체가 개발한 자체 어플리케이션에 고유하게 매핑.
- 예) TCP 3306 -> MySQL

### Dynamic Ports

- 49152 ~ 65535
- 클라이언트 애플리케이션이 서버 애플리케이션에 접속할 때 발신자 포트 번호로 무작위로 할당.
