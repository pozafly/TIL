# IP 심화

## 할당 방식에 따른 분류

### 1. 클래스풀 주소 지정

- 주소 클래스 카테코기로 분류하고 그 중에서 IP 할당함.
- A ~ E 까지 있음.
- 이 중 단말에 설정해 사용하는 것은 `A` ~ `C` 임.
	- 1옥텟(8비트) 단위의 서브넷 마스크가 정해짐.
	- IP 주소가 할당되면 필연적으로 서브넷 마스크가 결정되도록 되어 있음.
	- 예) ip 주소 '10.1.1.1' 이면 서브넷 마스크는 '255.0.0.0'임.
- D, E는 특수 용도. 일반적으로 사용되지 않음.

클래스풀 주소 할당은 이해하기 쉽지만 낭비가 많음.

![[Pasted image 20260118140259.png]]

한 공인 IP 에서 저걸 다 써야 한다는 말임.

### 2. 클래스리스 주소 지정

- 클래스와 관계없이 IP 할당
- 서브넷팅이나 CIDR(Classless Inter-Domain Routing, 사이더) 라고도 함.
- 네트워크 부분과 호스트 부분 외 '**서브넷 부분**' 이라는 개념 도입해 새로운 네트워크를 만들어 냄.
- 서브넷 마스크를 8비트가 아닌 1비트 단위로 자유롭게 조작해서 이를 실현 함.

#### 예시

192.168.11.0을 서브넷으로 설정해보자.

![[Pasted image 20260118220345.png]]

- 192.168.11.0은 클래스 C
- C 클래스이므로
	- 네트워크 부분은 24비트
	- 호스트 부분은 8비트.
- 호스트 부분에서 서브넷 부분을 할당한다.
	- 서브넷 부분에 몇 비트를 할당할 것인가는 필요한 IP 주소 수와 필요한 네트워크 수에 따라 결정 함.
- 이번엔 16개의 네트워크로 서브넷 해보자.
	- 16개로 나누려면 4비트가 필요함.(16 = 2의4승)
	- 4비트가 필요하다.
	- 그러면 `192.168.11.0/28`에서 `192.168.11.240/28` 까지 16개의 서브넷화된 네트워크가 만들어짐.
	- 또 각 네트워크에는 최대 14개 (2의4승 - 2)의 IP 주소를 할당할 수 있다.
	- 여기서 2개를 빼는 건 호스트 부분이 모두 1이거나 모두 0인 IP 주소는 단말에 할당 할 수 없기 때문임.

| 서브넷 마스크 (10진수)  | CIDR | 최대 사용 가능 IP 수 | 네트워크 시작 주소 예시 (192.168.11.0 기준)                                                                  |
| --------------- | ---- | ------------- | ------------------------------------------------------------------------------------------------ |
| 255.255.255.0   | /24  | 254 (256-2)   | 192.168.11.0                                                                                     |
| 255.255.255.128 | /25  | 126 (128-2)   | 192.168.11.0 / 192.168.11.128                                                                    |
| 255.255.255.192 | /26  | 62 (64-2)     | 192.168.11.0 / 192.168.11.64 / 192.168.11.128 / 192.168.11.192                                   |
| 255.255.255.224 | /27  | 30 (32-2)     | 192.168.11.0 / 32 / 64 / 96 / 128 / 160 / 192 / 224                                              |
| 255.255.255.240 | /28  | 14 (16-2)     | 192.168.11.0 / 16 / 32 / 48 / 64 / 80 / 96 / 112 / 128 / 144 / 160 / 176 / 192 / 208 / 224 / 240 |

![[Pasted image 20260118223305.png]]

클래스리스는 유한한 IP를 효율적으로 활용할 수 있어 요즘은 대부분 이 방식이다.

## 사용 위치별 분류

### 1. 공인 IP 주소(글로벌 IP 주소)

- ICANN 비영리 법에서 관리 그 산하 조직에서 계층적으로.
- 한국은 KISA
- 최근 할당 재고가 고갈되어 신규 할당에 제한이 있음.

### 2. 사설 IP 주소(로컬 IP 주소)

- 조직내 자유롭게 할당할 수 있는 IP 주소

![[Pasted image 20260118224104.png]]

이중 어떤 사설 IP 주소를 사용할것인가는 네트워크 규모에 따라 선택할 수 있다.
- 사설 IP는 조직 내에서만 유효 인터넷에 직접 연결 불다능
- 인터넷 가능하려면 사설 IP를 공인 IP 주소로 변환해야 함.
- 이걸 **NAT**(Network Address Translation) 이라 함.

## 제외 주소

- 네트워크 주소
- 브로드캐스트 주소
- 루프백 주소

### 1. 네트워크 주소

- 호스트 부분의 비트가 모두 '0'인 주소.
- 네트워크 자체를 나타냄.
- 참고로 IP 주소와 서브넷 마스크를 모두 '0'으로 설정한 '0.0.0.0/0'은 **기본 경로 주소**가 된다. 기본 경로 주소는 모든 네트워크를 의미.
![[Pasted image 20260118234025.png]]

### 2. 브로드캐스트 주소

- 호스트 부분의 비트가 모두 '1'인 주소
- 같은 네트워크에 존재하는 모든 단말.
- 참고로 IP 주소도 서브넷 마사크도 모두 '1'은 255.255.255.255/32는 **제한 브로드캐스트 주소**.
	- 자신의 IP 주소/네트워크 주소를 모르는 경우나 DHCP로 IP 주소를 얻을 때 사용.

### 3. 루프백 주소

- 자신을 나타내는 주소
- 1옥텟이 '127'인 IP 주소
- 127.0.0.1/8을 사용하는게 일반적.

![[Pasted image 20260118234246.png]]
