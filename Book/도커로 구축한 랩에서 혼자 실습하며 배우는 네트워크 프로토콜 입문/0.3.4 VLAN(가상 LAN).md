# VLAN(가상 LAN)

- 하나의 L2 스위치를 가상으로 여러 개의 L2 스위치로 분할하는 기술.
- L2 스위치 포트에 VLAN 식별자인 '**VLAN ID**' 숫자 설정해 다른 포트에는 이더넷 프레임을 전송하지 않음.

![[Pasted image 20260116003027.png]]

## 포트 VLAN

하나의 포트에 하나의 VLAN을 할당하는 기술. 플러딩도 각각의 VLAN에서만 이루어짐.

![[Pasted image 20260116003231.png]]

## 태그 VLAN

- 이더넷 프레임에 VLAN 정보를 '**VLAN 태그**'로 붙이는 기술. IEEE802.1q로 표준화.
- VLAN 태그를 이용해 VLAN 식별 가능하므로 하나의 포트에 여러 VLAN 이더넷 프레임 처리 가능.

![[Pasted image 20260116003357.png]]

VLAN 태그는 이더넷 프레임의 발신자 MAC 주소와 유형 사이에 끼워넣음.

![[Pasted image 20260116003447.png]]

### 태그 VLAN 처리

![[Pasted image 20260116003510.png]]

- lb1은 net0, net0.2 두개 인터페이스 존재.
	- net0: VLAN 태그를 처리하지 않는 인터페이스
	- net0.2: VLAN2인 VLAN 태그 처리하기 위해 net0에 추가된 논리적 인터페이스.
- lb1 -> sv1
	- net0.2 사용
	- VLAN2인 VLAN 태그를 붙여 802.1q 프레임으로 전송함.
	- sw2는 태그 VLAN으로 설정된 프레임을 수신하녀 VLAN 태그를 제거하고 같은 VLAN2로 설정된 포트 중에서 L2 스위칭 처리함

### 네이티브 VLAN

- 태그 VLAN인 포트는 태그가 없는 순수 이더넷 프레임을 받았을 때 어떤 VLAN 이더넷 프레임으로 처리할지 결정해야 함.
- 이 VLAN을 네이티브 VLAN.
- 만약 네이티브 VLAN을 VLAN1로 설정하면 해당 포트로 L2 스위칭 처리함.
- 즉, default VLAN 설정임.

![[Pasted image 20260116004028.png]]
