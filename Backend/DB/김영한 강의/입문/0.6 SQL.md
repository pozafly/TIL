# SQL

SQL 명령어의 4가지 종류

## 1. DDL (Data Definition Language, 데이터 정의어)

**목적**: 데이터의 '구조'를 정의하고 관리하는 언어다. 데이터 그 자체가 아니라, 데이터를 담을 그릇(테이블)이나 창고(데이터베이스)의 설계도를 만들고, 수정하고, 제거하는 역할을 한다.

**창고 비유**: 창고 건물을 짓고(`CREATE`), 내부 선반 구조를 바꾸거나(`ALTER`), 창고를 철거하는(`DROP`) 작업에 해당한다. 선반에 놓인 물건(데이터)은 건드리지 않고, 구조 자체에만 관여한다.

**주요 명령어**:
- `CREATE`: 데이터베이스, 테이블 등의 구조를 생성한다.
- `ALTER`: 이미 만들어진 테이블의 구조를 변경한다. (이후에 학습한다.)
- `DROP`: 데이터베이스, 테이블을 완전히 삭제한다.

## 2. DML (Data Manipulation Language, 데이터 조작어)

**목적**: 테이블 안에 들어있는 실제 '데이터'를 직접 조작(추가, 조회, 수정, 삭제)하는 언어다. SQL에서 가장 빈번하게 사용되는 명령어들이 여기에 속한다.

**창고 비유**: 선반에 새 물건을 진열하고(`INSERT`), 진열된 물건의 목록을 확인하며(`SELECT`), 물건의 가격표를 바꾸고(`UPDATE`), 팔린 물건을 선반에서 치우는(`DELETE`) 작업에 해당한다.

**주요 명령어**:
- `INSERT`: 테이블에 새로운 데이터를 추가한다.
- `SELECT`: 테이블에서 데이터를 조회(검색)한다.
- `UPDATE`: 기존 데이터를 수정한다.
- `DELETE`: 기존 데이터를 삭제한다.

## 3. DCL (Data Control Language, 데이터 제어어)

**목적**: 데이터에 대한 접근 권한을 부여(`GRANT`)하거나 회수(`REVOKE`)하는 등, 데이터의 보안과 관련된 권한을 제어한다.

**창고 비유**: 창고 관리자가 직원들에게 창고 출입 키를 나눠주거나 특정 구역만 들어갈 수 있는 권한을 주는 것에 해당한다. 마케팅팀에게는 재고 조회 권한만 주고, 배송팀에게는 주소 조회 및 수정 권한을 주는 식이다.

**주요 명령어**:
- `GRANT`: 특정 사용자에게 특정 작업에 대한 수행 권한을 부여한다.
- `REVOKE`: 특정 사용자에게서 이미 부여한 권한을 회수한다.

## 4. TCL (Transaction Control Language, 트랜잭션 제어어)

**목적**: DML에 의해 수행된 데이터 변경 작업들을 하나의 '거래(Transaction)' 단위로 묶어서 관리하는 언어다. 작업의 일관성을 보장하여 데이터가 잘못되는 것을 방지한다.

**은행 계좌 이체 비유**: 당신이 친구에게 5만 원을 계좌 이체하는 상황을 생각해 보자. 이 작업은 사실 두 단계로 이루어져 있다.
1. 내 계좌에서 5만 원이 빠져나간다 (UPDATE).
2. 친구 계좌에 5만 원이 들어온다 (UPDATE).

만약 1번 작업만 성공하고 시스템이 멈춰버린다면, 5만 원은 공중으로 증발해 버린다. 이런 사태를 막기 위해, 두 작업을 하나의 덩어리(트랜잭션)로 묶는다. 이 덩어리는 **두 작업이 모두 성공해야만 최종적으로 저장(`COMMIT`)**되고, **둘 중 하나라도 실패하면 모든 작업을 없었던 일로 되돌린다(`ROLLBACK`)**.

**주요 명령어**:
- `COMMIT`: 트랜잭션의 모든 작업을 최종적으로 데이터베이스에 확정, 저장한다.
- `ROLLBACK`: 트랜잭션의 모든 작업을 취소하고 이전 상태로 되돌린다.

트랜잭션(TCL)은 실무에서 매우 중요하다.
