# 컴포넌트에 props 전달하기

React 컴포넌트는 props를 이용해 서로 통신한다. 모든 부모 컴포넌트는 props를 줌으로써 몇몇의 정보를 자식 컴포넌트에게 전달할 수 있다. props는 HTML 속성(attribute)을 생각나게 할 수도 있지만, 객체, 배열, 함수를 포함한 모든 JavaScript 값을 전달할 수 있다.

props는 컴포넌트에 대한 유일한 인자다.

## prop의 기본값 지정하기

기몬 값을 지정할 수 있다.

```jsx
function Avatar({ name = 'st', size}) {
}
```

이렇게 props의 name이 넘어오지 않았을 때, st로 지정된다.

하지만, `null` 일 경우는 조금 다르다. 

```jsx
function Avatar({ name = 'st', imageId }) {
  return (
    <>
      <img src={imageId} alt={name} />
      <p>{name}</p>
    </>
  );
}

function App() {
  return <Avatar imageId="https://i.imgur.com/1bX5QH6.jpg" />;
}
export default App;
```

`<Avatar imageId="https://i.imgur.com/1bX5QH6.jpg" />;` 이것과 같이 아예 name이 없을 경우에는 'st'가 디폴트 값으로 지정 되지만, `{null}`을 넣으면 'st' 가 나오지 않는다. 즉, `undefined` 만 된다는 말임.

JavaScript 문법이기 때문임. `''`도 나오지 않음.

따라서 백엔드로부터 API로 데이터를 받아왔을 경우 `null`로 값을 주는 경우가 많은데 null로 하면 default parameter 때문에 없는 값 처리를 해주지 못하므로 귀찮아질 수 있다.

## JSX 전개 구문으로 props 전달하기

```jsx
function Profile({ person, size, isSepia, thickBorder }) {
  return (
    <Avatar
      person={person}
      size={size}
      isSepia={isSepia}
      thickBorder={thickBorder}
    />
  );
}
```

위 코드는 그냥 받은 props를 그대로 아예 똑같이 넘겨주고 있다. 이경우, 

```jsx
function Profile(props) {
  return (
    <Avatar {...props} />
  );
}
```

이렇게 전개 구문을 사용해서 넘겨주면 편하다.

```jsx
<Avatar {...props} /> // success
<Avatar {props} /> // fail
<Avatar props /> // fail
```

왜 위 첫번째 것은 되고, 밑의 두개는 안될까? Babel에 돌려보면, 

`<Avatar props />` 요거는 `<Avatar props={true} />` 와 같이 컴파일된다. 따라서 안되고, `<Avatar {props} />` 요거는 앞에 어트리뷰트(props)로 내려갈 이름이 적히지 않아서 안된다.

그리고, 스프레드 문법은 되는데, 이는 react에서 예외 처리를 해준 것으로 보인다. 왜냐면 실제로 객체를 만들어 스프레드로 풀어 내려보내주지 않기 때문이다. Babel을 보자.

```js
const Profile = (props) => {
  return (
  	<div {...props} />
  )
}
// ---------------------------------------------------------------
const Profile = (props) => {
  return /*#__PURE__*/ React.createElement("div", props);
};
```

아래를 보면, `...` 스프레드가 쓰인게 아니라, 그냥 바로 전달만 해주었다. 따라서 스프레드가 실제로 사용되는 것은 아니지만 그냥 react에서 처리해준 것. 근데, 예전 버전은 그렇고 요즘은 또 다름.

```js
import { jsx as _jsx } from "react/jsx-runtime";
const Profile = (props) => {
  return /*#__PURE__*/ _jsx("div", {
    ...props
  });
};
```

리액트 17 이상은 이렇게 실제로 스프레드를 씀.

