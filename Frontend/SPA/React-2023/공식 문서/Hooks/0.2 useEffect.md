# useEffect

컴포넌트를 외부 시스템과 동기화할 수 있는 훅.

## useEffect(setup, dependencies?)

- setup은 Effect의 로직이 포함된 함수. 클린업 함수를 반환할 수도 있다.
- dependencies는 의존성 배열으로 Effect에 사용된 반응형 값을 넣어주어야 한다.

외부 시스템과 동기화하려는 목적이 아니라면 Effect가 필요하지 않을 수 있다.

의존성 중 일부가 컴포넌트 내부에 정의된 객체 또는 함수인 경우 Effect가 필요 이상으로 자주 다시 실행될 위험이 있다. 이 문제를 해결하려면 불필요한 **객체 및 함수** 의존성을 제거해라.

Effect가 상호작용으로 인한게 아니라면, React는 브라우저가 Effect를 실행하기 전에 업데이트 된 화면을 먼저 그리도록 한다. Effect가 시각적인 작업(예: 툴팁 위치 지정)을 하고 있고, 지연이 눈에 띄는 경우(깜박임) useEffect를 `useLayoutEffect`로 대체해야 한다.

상호작용으로 인해 Effect가 발생한 경우에도, 브라우저는 Effect 내부의 state 업데이트를 처리하기 전 화면을 다시 그릴 수 있다. 보통 이게 기대하는 동작일 것이다. 만약 브라우저가 화면을 다시 칠하지 못하도록 차단해야 하는 경우라면 useEffect를 `useLayoutEffect`로 대체해야 한다.

Effect는 서버에서는 실행되지 않는다.

## 커스텀 훅으로 Effect 감싸기

react를 벗어나야 할 때, 또는 더 나은 빌트인 솔루션이 없을 때 사용한다. Effect를 수동으로 작성해야 하는 경우 가 자주 발생하면 컴포넌트가 의존하는 일반적인 동작에 대한 커스텀 훅을 추출해야할 수 있다.
