# 심화

- **제어 컴포넌트와 비제어 컴포넌트란?**
  - 제어 컴포넌트는 React의 상태(State)에 의해 값이 제어되는 컴포넌트.
  - 비제어 컴포넌트는 React의 상태에 의존하지 않고 DOM 자체에서 값을 추출하는 컴포넌트. 일반적으로 ref로 값을 가져온다.

- **ref란?**
  - 컴포넌트가 특정 정보를 '기억'하고 싶지만, 리랜더링을 트리거하지 않을 때 사용하는 것.
  - **어떨때 ref를 쓰는가?**
    - 즉, 컴포넌트의 형상에 영향을 주지 않는 브라우저 API 등을 사용할 때나, 통신해야 할 때 사용한다.
      - timeout ID 저장
      - DOM elements 저장 및 조작
      - JSX를 계산하는 데 필요하지 않은 다른 객체 저장
  - **멤버 변수와는 어떻게 다른가?**
    - 컴포넌트 내부에 있는 멤버변수는 값을 초기화 한다. 리랜더링 시 함수가 새로 호출되기 때문이다.
    - 컴포넌트 외부에 있는 멤버변수는 재활용된 컴포넌트끼리 값을 공유한다. 즉 격리되어 있지 않다.
  - **forwordRef란?**
    - 컴포넌트에 ref를 주고 싶을 때, 하위 컴포넌트에서 ref를 접근할 수 있도록 해주는 함수.
    - **왜 쓰나요?**
      - 컴포넌트가 다른 컴포넌트의 DOM 노드에 접근하는 것을 허용하지 않기 때문이다. 이것을 쉽게 하도록 허용하면 DOM 조작이 일어나는 것이 복잡해질 수 있기 때문이다.
  - **ref 콜백함수란?**
    - ref 객체(예: `useRef` 에서 반환하는 객체) 대신 `ref` 속성에 함수를 전달하는 것.
    - DOM과 관련된 ref가 얼마나 필요한지 알 수 없을 때 사용한다.
    - 렌더링 할 때마다 들어오는 목록이 달라진다. 컴포넌트가 리렌더링 되면 초기화 되고 콜백함수를 다시 실행하기 때문이다.

- **useEffect란?**
  - 특정 이벤트가 아닌 렌더링 자체로 인해 발생하는 사이드 이펙트를 실행하는 함수.
  - **예를 들면?**
    - 렌더링 후 서버와 연결이 필요한 상황 또는 외부 라이브러리와 동기화 하는 상황 등, 사용자 이벤트와 상관 없지만, 사용자 이벤트처럼 행동해야 할 경우 사용한다.
  - **useEffect는 정확히 언제 실행되나?**
    - 렌더링이 끝나고 커밋(화면에 그려지는 과정) 후에 실행된다.
    - **그러면 렌더링과 커밋은 정확히 어떤 과정인가?**
      - 렌더링: JSX를 통해 DOM 노드를 생성하는 과정
      - 커밋: 렌더링(DOM노드 생성) 후 DOM을 수정하는 과정. 즉, DOM 노드를 화면에 표시함.

