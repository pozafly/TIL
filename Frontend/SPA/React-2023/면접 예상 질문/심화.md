# 심화

- **제어 컴포넌트와 비제어 컴포넌트란?**
  - 제어 컴포넌트는 React의 상태(State)에 의해 값이 제어되는 컴포넌트.
  - 비제어 컴포넌트는 React의 상태에 의존하지 않고 DOM 자체에서 값을 추출하는 컴포넌트. 일반적으로 ref로 값을 가져온다.
- **ref란?**
  - 컴포넌트가 특정 정보를 '기억'하고 싶지만, 리랜더링을 트리거하지 않을 때 사용하는 것.
  - **어떨때 ref를 쓰는가?**
    - 즉, 컴포넌트의 형상에 영향을 주지 않는 브라우저 API 등을 사용할 때나, 통신해야 할 때 사용한다.
      - timeout ID 저장
      - DOM elements 저장 및 조작
      - JSX를 계산하는 데 필요하지 않은 다른 객체 저장
  - **멤버 변수와는 어떻게 다른가?**
    - 컴포넌트 내부에 있는 멤버변수는 값을 초기화 한다. 리랜더링 시 함수가 새로 호출되기 때문이다.
    - 컴포넌트 외부에 있는 멤버변수는 재활용된 컴포넌트끼리 값을 공유한다. 즉 격리되어 있지 않다.
  - **forwordRef란?**
    - 컴포넌트에 ref를 주고 싶을 때, 하위 컴포넌트에서 ref를 접근할 수 있도록 해주는 함수.
    - **왜 쓰나요?**
      - 컴포넌트가 다른 컴포넌트의 DOM 노드에 접근하는 것을 허용하지 않기 때문이다. 이것을 쉽게 하도록 허용하면 DOM 조작이 일어나는 것이 복잡해질 수 있기 때문이다.
  - **ref 콜백함수란?**
    - ref 객체(예: `useRef` 에서 반환하는 객체) 대신 `ref` 속성에 함수를 전달하는 것.
    - DOM과 관련된 ref가 얼마나 필요한지 알 수 없을 때 사용한다.
    - 렌더링 할 때마다 들어오는 목록이 달라진다. 컴포넌트가 리렌더링 되면 초기화 되고 콜백함수를 다시 실행하기 때문이다.
- **전역 상태란?**

  - 어플리케이션을 구성하고 있는 코드 어디에서든지 접근이 가능하며, 변화에 따라 렌더링에 영향을 줘야 하는 값

  - 어플리케이션에서 관리하고 있는 상태는 어떻게 나눌 수 있는가?(어떻게 분류할 수 있는가)

    - 외부에서 주입되는 동적인 데이터(서버 응답)
    - 어플리케이션 UI 상태

  - ContextAPI와 Redux의 차이는?

    - ContextAPI는 부분적으로 사용하기 용이하다. 컴파운드 컴포넌트 패턴을 구현할 때 사용하기 좋다.

    - Redux는 전역 상태를 관리하거나 데이터 페칭의 데이터를 보관할 수 있다. 또한 thunk, saga와 같은 미들웨어를 사용할 수 있다.

    - 컴파운드 컴포넌트 패턴?

      하나의 컴포넌트를 여러 가지 집합체로 분리한 뒤, 분리된 컴포넌트를 사용하는 쪽에서 조합해 사용하는 컴포넌트 패턴. 컴포넌트에 서브 컴포넌트를 두어 응집도를 높이는 방법이다.

      - 장점은?

        상태를 내부적으로 가지고 있어 사용하는 쪽에서는 드러나지 않아 걱정없이 사용할 수 있다. 즉, 응집도가 높아진다.

  - react-query는 왜 나왔는가?

    - 데이터 페칭, 캐싱, 동기화, 서버 데이터 업데이트 등을 쉽게 만들어주는 라이브러리다. 기존에 전역 상태에는 어플리케이션을 위한 데이터와 서버를 위한 데이터가 혼재해 있었는데, 서버를 위한 데이터를 React Query가 맡는다.
    - react-query와 비교해서 redux를 사용할 때의 문제점은?
      - 필요로 하는 값은 redux에 존재한다는 가정.
        - redux에서 dispatch가 되지 않은 값을 컴포넌트에서 가져가려고 할 경우 오류가 생긴다. 따라서 런타임 에러가 발생할 확률이 있다.
      - 특점 시점에 capture된 데이터.
        - 서버의 데이터가 변경되어 화면이 변경되어야 하는데, 이는 fetch된 시점의 데이터이기 때문에 실시간 동기화가 되지 않는다.
