# Hooks

- useState
  - useState란?
    - 컴포넌트에 상태 변수를 추가할 수 있게 해주는 Hook.
  - 업데이터 함수는 무엇인가?
    - state를 인수로 사용하고 다음 state를 반환하는 함수다.
    - state는 스냅샷으로 처리되기 때문에 setState를 연속으로 사용할 경우 원하는 결과를 얻지 못할 때 사용한다.
    - 이벤트 핸들러에서 처리된 로직 이후 업데이터 함수가 큐에 들어가고, 큐에서 순차적으로 순회하며 함수가 실행 된 후 state를 업데이트 한다.
  - state가 스냅샷으로 처리되는 이유와 업데이터 함수가 존재하는 이유?
    - state 업데이트를 하기 전 작업이 큐에 들어가고, 큐에서 처리가 끝난 후 리렌더링을 하는데, setState가 일어날 때마다 리렌더링이 일어나면 효율적이지 않기 때문이다.
    - 따라서 Batching(일괄처리) 후에 리렌더링이 일어난다. 업데이터 함수는 이 작업에서 꼬일 수 있는 문제를 해결한다.
  - Batching 이전에 DOM을 조작하기 위해서는 어떤 것을 사용할 수 있나?
    - `flushSync`를 사용할 수 있음.
    - `flushSync` 란?
      - 콜백 함수 내부의 업데이트를 동기적으로 하도록 하는 함수. 사용하면 DOM이 즉시 업데이트 된다. 즉, 먼저 setState를 해서 화면을 업데이트 한 후, 그 다음 로직을 실행할 수 있다.
      - 성능을 크게 저하시킬 수 있기 때문에 아껴서 사용하라.
      - 언제 사용하나?
        - 브라우저 API나 UI 라이브러리와 같은 서드파티 코드와 통합할 때 사용한다.