# 캐싱 라이프 사이클

```
* 캐시 데이터가 있거나 없는 쿼리 인스턴스
* 백그라운드 리패칭
* 비활성 쿼리
* 가비지 컬렉션
```

- `cacheTime`의 기본값 5분, `staleTime` 기본값 0초를 가정

1. `A`라는 queryKey를 가진 A 쿼리 인스턴스가 `mount` 됨.
2. 네트워크에서 데이터 fetch 하고, 불러온 데이터는 A라는 queryKey로 캐싱 함
3. 이 데이터는 `fresh` 상태에서 `staleTime(기본값 0)` 이후 `stale` 상태로 변경됨
4. A 쿼리 인스턴스가 `unmount` 됨
5. 캐시는 `cacheTime(기본 값 5min)` 만큼 유지되다가 `가비지 콜렉터(GC)`로 수집됨
6. 만일, cacheTime이 지나기 전이고, A 쿼리 인스턴스 fresh 한 상태라면 새롭게 mount 되면 캐시 데이터를 보여준다.

