# 렌더링에 대해서

<br/>

## 초기 렌더링

어떤 프레임워크, 라이브러리를 사용하든지 맨 처음 어떻게 보일지를 정하는 초기 렌더링이 필요하다

```jsx
render() { ... }
```

이 함수는 컴포넌트가 어떻게 생겼는지 정의하는 역할을 한다. 이 함수는 html 형식의 문자열을 반환하지 않고, 뷰가 어떻게 생겼고 어떻게 작동하는지에 대한 정보를 지닌 **객체를 반환**한다. 컴포넌트 내부에는 또 다른 컴포넌트들이 들어갈 수 있다. 이때, `render` 함수를 실행하면 그 내부에 있는 컴포넌트들도 재귀적으로 렌더링 함. 이렇게 최상튀 컴포넌트의 렌더링 작업이 끝나면 지니고 있는 정보들을 사용해 HTML 마크업을 만들고, 실제 페이지의 DOM 요소 안에 주입한다.

<br/>

## 조화 과정

뷰를 업데이트할 때, 업데이트 과정을 거친다 라고 하기보다 **조화 과정**을 거친다고 하는게 정확한 표현. 컴포넌트에서 데이터에 변화가 있을 때, 뷰가 변형되는 것 처럼 보이지만, 사실은 새로운 요소로 갈아 끼운다.

이 작업 또한 `render` 함수가 함. 단순히 업데이트한 값을 수정하는 것이 아니라, 새로운 데이터를 가지고 render 함수를 다시 호출. 이때 render 함수가 반환하는 결과를 바로 DOM에 반영하는게 아니라, 이전에 render 함수가 만들었던 컴포넌트 정보와 현재 render 함수가 만든 컴포넌트 정보를 비교함.

![스크린샷 2021-03-03 오전 9 35 45](https://user-images.githubusercontent.com/59427983/109734164-e1cd3400-7c03-11eb-876b-29043b31e451.png)

javascript를 사용해 두 가지 뷰를 최소한의 연산으로 비교 후, 둘의 차이를 알아내 최소한의 연산으로 DOM 트리 업데이트 하는 것임. root 노드를 시작해 전체 컴포넌트를 처음부터 다시 렌더링 하는 것처럼 보이지만, 사실 최적의 자원을 사용해 이를 수행.