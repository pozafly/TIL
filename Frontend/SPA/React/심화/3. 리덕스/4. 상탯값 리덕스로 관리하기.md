# ìƒíƒ¯ê°’ ë¦¬ë•ìŠ¤ë¡œ ê´€ë¦¬í•˜ê¸°

ë¦¬ë•ìŠ¤ëŠ” ë¦¬ì•¡íŠ¸ ë¿ ì•„ë‹ˆë¼ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚¬ìš©í•˜ëŠ” ëª¨ë“  ê³³ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ì§€ê¸ˆê¹Œì§€ ì‚´í´ë³¸ ì˜ˆì œ ì½”ë“œë§Œ í•˜ë”ë¼ë„ ë¦¬ì•¡íŠ¸ ì—†ì´ ë³„ë„ë¡œ ë™ì‘í•  ìˆ˜ ìˆìŒ.

ë¦¬ë•ìŠ¤ëŠ” ë¦¬ì•¡íŠ¸ì™€ ê¶í•©ì´ ì˜ ë§ìŒ. ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ì˜ ìƒíƒ¯ê°’ê³¼ ë§ˆì°¬ê°€ì§€ë¡œ ë¦¬ë•ìŠ¤ì˜ ìƒíƒ¯ê°’ë„ ë¶ˆë³€ ê°ì²´ë‹¤. ìƒíƒ¯ê°’ì´ ë¶ˆë³€ ê°ì²´ì´ë©´ ê°’ì˜ ë³€ê²½ ì—¬ë¶€ë¥¼ ë¹ ë¥´ê²Œ í™•ì¸í•  ìˆ˜ ìˆê³ , ì´ëŠ” ë¦¬ì•¡íŠ¸ì˜ ë Œë”ë§ ì„±ëŠ¥ì„ ì¢‹ê²Œ ë§Œë“œëŠ” ìš”ì¸ì´ ëœë‹¤.

ë¦¬ì•¡íŠ¸ì—ì„œ ë¦¬ë•ìŠ¤ë¥¼ ì‚¬ìš©í•  ë•ŒëŠ” `react-redux` íŒ¨í‚¤ì§€ê°€ ë§ì´ ì‚¬ìš©ë¨. í•˜ì§€ë§Œ react-redux íŒ¨í‚¤ì§€ ì—†ì´ ë¦¬ì•¡íŠ¸ì—ì„œ ë¦¬ë•ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ë¨¼ì € react-redux íŒ¨í‚¤ì§€ ì—†ì´ ê°„ë‹¨í•œ í”„ë¡œê·¸ë¨ì„ ë§Œë“¤ì–´ë³´ê³ , react-redux íŒ¨í‚¤ì§€ë¥¼ ì‚¬ìš©í•˜ëŠ” ì½”ë“œë¡œ ë¦¬íŒ©í† ë§ í•´ë³´ì.

<br/>

## React-redux íŒ¨í‚¤ì§€ ì—†ì´ ì§ì ‘ êµ¬í˜„í•˜ê¸°

ë¨¼ì € ìŠ¤í† ì–´ ê°ì²´ë¥¼ ì›í•˜ëŠ” ê³³ì—ì„œ ê°€ì ¸ë‹¤ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•˜ê¸° ìœ„í•´ ë³„ë„ì˜ íŒŒì¼ë¡œ ë¶„ë¦¬í•˜ì. index.js íŒŒì¼ì—ì„œ ìŠ¤í† ì–´ë¥¼ ìƒì„±í•˜ëŠ” ì½”ë“œë¥¼ ë³„ë„ì˜ íŒŒì¼ë¡œ ë¶„ë¦¬í•œë‹¤. ì´ë¥¼ ìœ„í•´ common í´ë” ë°‘ store.js íŒŒì¼ì„ ë§Œë“¤ì.

```js
import { createStore, combineReducers } from 'redux';
import timelineReducer from '../timeline/state';
import friendReducer from '../friend/state';

const reducer = combineReducers({
  timeline: timelineReducer,
  friend: friendReducer,
});
const store = createStore(reducer);
export default store;  // ğŸŒˆ
```

- ğŸŒˆ: ìŠ¤í† ì–´ ê°ì²´ë¥¼ ë‚´ë³´ë‚¸ë‹¤. ì´ì œ ìŠ¤í† ì–´ ê°ì²´ë¥¼ ì›í•˜ëŠ” ê³³ì—ì„œ ê°€ì ¸ë‹¤ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

---

### íƒ€ì„ë¼ì¸ í™”ë©´ ë§Œë“¤ê¸°

ë¨¼ì € mock ë°ì´í„° ë¶€í„° ë§Œë“¤ì–´ë³´ì. ì„œë²„ë¥¼ í‰ë‚´ë‚¸ ë°ì´í„°ì„. common/mockData.js

```js
// ğŸ’§
const friends = [
  { name: 'ì¯”ìœ„', age: 15 },
  { name: 'ìˆ˜ì§€', age: 20 },
  { name: 'ì•„ì´ìœ ', age: 25 },
  { name: 'ì†ë‚˜ì€', age: 30 },
];
const timelines = [
  { desc: 'ì ì‹¬ì´ ë§›ìˆì—ˆë‹¤', likes: 0 },
  { desc: 'ë‚˜ëŠ” ë©‹ì§€ë‹¤', likes: 10 },
  { desc: 'í˜¸í…”ì— ë†€ëŸ¬ ê°”ë‹¤', likes: 20 },
  { desc: 'ë¹„ì‹¼ í•¸ë“œí°ì„ ìƒ€ë‹¤', likes: 30 },
];

function makeDataGenerator(items) {  // ğŸš€
  let itemIndex = 0;
  return function getNextData() {  // ğŸŒˆ
    const item = items[itemIndex % items.length];
    itemIndex += 1;
    return { ...item, id: itemIndex };  // ğŸ‰
  };
}
export const getNextFriend = makeDataGenerator(friends);
export const getNextTimeline = makeDataGenerator(timelines);
```

- ğŸ’§: ì¹œêµ¬ ëª©ë¡ê³¼ íƒ€ì„ë¼ì¸ ë°ì´í„°ë¥¼ ìƒì„±í•  ë•Œ ì‚¬ìš©í•  ê¸°ë³¸ ë°ì´í„°.
- ğŸš€: ì¹œêµ¬ ëª©ë¡ê³¼ íƒ€ì„ë¼ì¸ ë°ì´í„°ë¥¼ ìƒì„±í•˜ëŠ” ë¡œì§ì´ ê°™ê¸° ë•Œë¬¸ì— í•˜ë‚˜ì˜ í•¨ìˆ˜ë¡œ ì‘ì„±í•œë‹¤. ì´ í•¨ìˆ˜ëŠ” `getNextFriend`, `getNextTimeline` í•¨ìˆ˜ë¥¼ ìƒì„±í•˜ëŠ”ë° ì‚¬ìš©ëœë‹¤.
- ğŸŒˆ: `getNextData` í•¨ìˆ˜ëŠ” items, itemIndex ë³€ìˆ˜ë¥¼ ê¸°ì–µí•˜ëŠ” `í´ë¡œì €` ë‹¤.
- ğŸ‰: `getNextData` í•¨ìˆ˜ëŠ” ì¤‘ë³µë˜ì§€ ì•Šì€ id ê°’ì„ ë„£ì–´ì„œ ë°˜í™˜í•œë‹¤.

ì´ì œ ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ì–´ë³´ì.

timeline í´ë” ë°‘ component, container í´ë”ë¥¼ ë§Œë“ ë‹¤. ì•ìœ¼ë¡œ í”„ë ˆì  í…Œì´ì…˜ ì»´í¬ë„ŒíŠ¸ëŠ” component í´ë”ì— ë„£ê³ , ì»¨í…Œì´ë„ˆ ì»´í¬ë„ŒíŠ¸ëŠ” container í´ë”ì— ë„£ëŠ”ë‹¤. ê·¸ ë‹¤ìŒ component í´ë” ë°‘ TimelineList.js íŒŒì¼ì„ ë§Œë“¤ì.

```jsx
import React from 'react';

const TimelineList = ({ timelines }) => {
  return (
    <ul>
      {timelines.map((timeline) => (
        <li key={timeline.id}>{timeline.desc}</li>
      ))}
    </ul>
  );
};

export default TimelineList;
```

ì´ì œ containerì— TimelineMain.jsë¥¼ ë§Œë“¤ì.

```jsx
import React, { useEffect, useReducer } from 'react';
import store from '../../common/store';  // ğŸ“Œ 1
import { getNextTimeline } from '../../common/mockData';  // ğŸ“Œ 2
import { addTimeline } from '../state';  // ğŸ“Œ 3
import TimelineList from '../component/TimelineList';

const TimelineMain = () => {
  const [, forceUpdate] = useReducer((v) => v + 1, 0);

  useEffect(() => {
    const unsubscribe = store.subscribe(() => forceUpdate());  // ğŸ“Œ 4
    return () => unsubscribe();  // ğŸ“Œ 5
  }, []);

  const onAdd = () => {
    const timeline = getNextTimeline();
    store.dispatch(addTimeline(timeline));  // ğŸ“Œ 6
  };
  console.log('TimelineMain render');  // ğŸ“Œ 7
  const timelines = store.getState().timeline.timelines;  // ğŸ“Œ 8
  return (
    <div>
      <button onClick={onAdd}>íƒ€ì„ë¼ì¸ ì¶”ê°€</button>
      <TimelineList timelines={timelines} />
    </div>
  );
};

export default TimelineMain;
```

- ğŸ“Œ 1: ì´ì „ì— ì‘ì„±í•œ store ê°ì²´ë¥¼ ê°€ì ¸ì˜´.
- ğŸ“Œ 2: `getNextTimeline` í•¨ìˆ˜ë¥¼ ì´ìš©í•˜ë©´ í•„ìš”í•  ë•Œë§ˆë‹¤ íƒ€ì„ë¼ì¸ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤. getNextTimeline í•¨ìˆ˜ëŠ” ì„œë²„ë¥¼ í‰ë‚´ë‚´ê¸° ìœ„í•´ ë§Œë“¤ì—ˆë‹¤.
- ğŸ“Œ 3: íƒ€ì„ë¼ì¸ ë°ì´í„°ë¥¼ ì¶”ê°€í•˜ê¸° ìœ„í•œ ì•¡ì…˜ ìƒì„±ì í•¨ìˆ˜ë¥¼ ê°€ì ¸ì˜¨ë‹¤.
- ğŸ“Œ 4: ì•¡ì…˜ì´ ì²˜ë¦¬ë  ë•Œë§ˆë‹¤ í™”ë©´ì„ ë‹¤ì‹œ ê·¸ë¦¬ê¸° ìœ„í•´ subscribe ë©”ì„œë“œë¥¼ ì‚¬ìš©í•œë‹¤. ë¦¬ë•ìŠ¤ ìƒíƒœê°€ ë³€ê²½ë˜ë©´ ë¬´ì¡°ê±´ ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”ë§í•˜ê¸° ìœ„í•´ `forceUpdate` í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•œë‹¤.
- ğŸ“Œ 5: ì»´í¬ë„ŒíŠ¸ê°€ ì–¸ë§ˆìš´íŠ¸ë  ë•Œ subscribe ë©”ì„œë“œì— ë“±ë¡í•œ ì´ë²¤íŠ¸ ì²˜ë¦¬ í•¨ìˆ˜ë¥¼ í•´ì œí•œë‹¤.
- ğŸ“Œ 6: íƒ€ì„ë¼ì¸ ì¶”ê°€ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ íƒ€ì„ë¼ì¸ì„ ì¶”ê°€í•˜ëŠ” ì•¡ì…˜ì„ ë°œìƒì‹œí‚¨ë‹¤.
- ğŸ“Œ 7: ë Œë”ë§ ì‹œì ì„ í™•ì¸í•˜ê¸° ìœ„í•´ ë¡œê·¸ë¥¼ ì¶œë ¥í•¨.
- ğŸ“Œ 8: ìŠ¤í† ì–´ì—ì„œ íƒ€ì„ë¼ì¸ ë°°ì—´ì„ ê°€ì ¸ì˜¨ë‹¤.

---

### ì¹œêµ¬ ëª©ë¡ í™”ë©´ ë§Œë“¤ê¸°

friend/component/FriendList.js

```jsx
import React from 'react';

const FriendList = ({ friends }) => {
  return (
    <ul>
      {friends.map((friend) => (
        <li key={friend.id}>{friend.name}</li>
      ))}
    </ul>
  );
};

export default FriendList;
```

ê·¸ë¦¬ê³ , container/FriendMain.js

```jsx
import React, { useEffect, useReducer } from 'react';
import { getNextFriend } from '../../common/mockData';
import store from '../../common/store';
import FriendList from '../component/FriendList';
import { addFriend } from '../state';

const FriendMain = () => {
  const [, forceUpdate] = useReducer((v) => v + 1, 0);

  useEffect(() => {
    const unsubscribe = store.subscribe(() => forceUpdate());
    return () => unsubscribe();
  }, []);

  const onAdd = () => {
    const friend = getNextFriend();
    store.dispatch(addFriend(friend));
  };
  console.log('FriendMain render');
  const friends = store.getState().friend.friends;
  return (
    <div>
      <button onClick={onAdd}>ì¹œêµ¬ ì¶”ê°€</button>
      <FriendList friends={friends} />
    </div>
  );
};

export default FriendMain;
```

---

ë§ˆì§€ë§‰ìœ¼ë¡œ index.js íŒŒì¼ì— ë‹¤ìŒ ë‚´ìš©ì„ ì…ë ¥í•˜ì.

```jsx
import React from 'react';
import ReactDOM from 'react-dom';
import FriendMain from './friend/container/FriendMain';
import TimelineMain from './timeline/container/TimelineMain';

ReactDOM.render(
  <div>
    <FriendMain />
    <TimelineMain />
  </div>,
  document.getElementById('root')
);
```

ìš°ë¦¬ê°€ ë§Œë“  container ì»´í¬ë„ŒíŠ¸ë¥¼ ë¶™ì—¬ì¤¬ë‹¤. ì¹œêµ¬ì¶”ê°€, íƒ€ì„ë¼ì¸ ì¶”ê°€ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì¹œêµ¬ ë°ì´í„°ê°€ ë¦¬ë•ìŠ¤ì˜ ìƒíƒ¯ê°’ì— ì¶”ê°€ëœë‹¤. ë¦¬ë•ìŠ¤ì˜ ìƒíƒ¯ê°’ì´ ë³€ê²½ë˜ë©´ ì»´í¬ë„ŒíŠ¸ì˜ `forceUpdate` í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ë©´ì„œ í™”ë©´ì´ ê°±ì‹ ëœë‹¤.

í•˜ì§€ë§Œ, logë¥¼ ë³´ë©´, FriendMain, TimelineMain renderê°€ ì¶”ê°€ë²„íŠ¼ì„ ëˆ„ë¥¼ ë•Œë§ˆë‹¤ ì°íˆëŠ”ê±¸ ë³¼ ìˆ˜ ìˆë‹¤. í•´ë‹¹ ì¶”ê°€ ë•Œë§Œ í•´ë‹¹ renderê°€ ì¼ì–´ë‚  ìˆ˜ ìˆê²Œ ë°”ê¾¸ì–´ë³´ì. FriendMain ë¶€í„°.

```jsx
const FriendMain = () => {
  // ...
  useEffect(() => {
    let prevFriends = store.getState().friend.friends;  // ğŸš€
    const unsubscribe = store.subscribe(() => {
      const friends = store.getState().friend.friends;
      if (prevFriends !== friends) {  // ğŸ’§
        forceUpdate();
      }
      prevFriends = friends;
    });
    return () => unsubscribe();
  }, []);
  //...
}
```

- ğŸš€: ì´ì „ ìƒíƒ¯ê°’ì„ ì €ì¥í•˜ê¸° ìœ„í•´ ë³€ìˆ˜ë¥¼ ì„ ì–¸í•œë‹¤.
- ğŸ’§: ìƒíƒ¯ê°’ì´ ë³€ê²½ëœ ê²½ìš°ì—ë§Œ forceUpdate í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œë‹¤.

ì´ì œ íƒ€ì„ë¼ì¸ ì¶”ê°€ ë²„íŠ¼ì„ ëˆŒëŸ¬ë„ FriendMain ì»´í¬ë„ŒíŠ¸ í•¨ìˆ˜ëŠ” í˜¸ì¶œë˜ì§€ ì•ŠëŠ”ë‹¤. TimelineMain.jsx íŒŒì¼ë„ ë§ˆì°¬ê°€ì§€ë¡œ ë³€ê²½í•˜ì.

<br/>

## React-redux íŒ¨í‚¤ì§€ ì‚¬ìš©í•˜ê¸°

ì§€ê¸ˆê¹Œì§€ ì‘ì„±í•œ ì½”ë“œë¥¼ ê¸°ë°˜ìœ¼ë¡œ react-redux íŒ¨í‚¤ì§€ë¥¼ ì‚¬ìš©í•´ë³´ì.

```sh
$ npm install react-redux
```

### Provider ì»´í¬ë„ŒíŠ¸ ì‚¬ìš©í•˜ê¸°

ê°€ì¥ ë¨¼ì € ì‘ì„±í•  ì½”ë“œëŠ” react-reduxì—ì„œ ì œê³µí•˜ëŠ” `Provider` ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•˜ëŠ” ì½”ë“œë‹¤. Provider ì»´í¬ë„ŒíŠ¸ë¥¼ ë¦¬ì•¡íŠ¸ì˜ ìµœìƒìœ„ ì»´í¬ë„ŒíŠ¸ë¡œ ì •ì˜í•´ë³´ì. Provider ì»´í¬ë„ŒíŠ¸ í•˜ìœ„ì— ìˆëŠ” ì»´í¬ë„ŒíŠ¸ëŠ” ë¦¬ë•ìŠ¤ì˜ ìƒíƒ¯ê°’ì´ ë³€ê²½ë˜ë©´ ìë™ìœ¼ë¡œ ì»´í¬ë„ŒíŠ¸ í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ë„ë¡ í•  ìˆ˜ ìˆë‹¤.

```jsx
// index.js
import React from 'react';
import ReactDOM from 'react-dom';
import { Provider } from 'react-redux';
import store from './common/store';
import FriendMain from './friend/container/FriendMain';
import TimelineMain from './timeline/container/TimelineMain';

ReactDOM.render(
  <Provider store={store}>  // ğŸ“Œ
    <div>
      <FriendMain />
      <TimelineMain />
    </div>
  </Provider>,
  document.getElementById('root')
);
```

- ğŸ“Œ: ìŠ¤í† ì–´ ê°ì²´ë¥¼ Provider ì»´í¬ë„ŒíŠ¸ì˜ ì†ì„±ê°’ìœ¼ë¡œ ë„£ëŠ”ë‹¤. Provider ì»´í¬ë„ŒíŠ¸ëŠ” ì „ë‹¬ë°›ì€ ìŠ¤í† ì–´ ê°ì²´ì˜ subscribe ë©”ì„œë“œë¥¼ í˜¸ì¶œí•´ì„œ ì•¡ì…˜ ì²˜ë¦¬ê°€ ëë‚  ë•Œë§ˆë‹¤ ì•Œë¦¼ì„ ë°›ëŠ”ë‹¤. ê·¸ ë‹¤ìŒ Context API ë¥¼ ì‚¬ìš©í•´ ë¦¬ë•ìŠ¤ì˜ ìƒíƒ¯ê°’ì„ í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ë¡œ ì „ë‹¬í•œë‹¤.

---

### FriendMain ì»´í¬ë„ŒíŠ¸ ë¦¬íŒ©í† ë§ í•˜ê¸°

FriendMain ì»´í¬ë„ŒíŠ¸ê°€ react-reduxë¥¼ ì‚¬ìš©í•˜ë„ë¡ ìˆ˜ì •í•´ë³´ì.

```jsx
// ...
import { useSelector, useDispatch } from 'react-redux';

const FriendMain = () => {
  const friends = useSelector((state) => state.friend.friends);  // ğŸŒˆ
  const dispatch = useDispatch();  // ğŸŒ”

  const onAdd = () => {
    const friend = getNextFriend();
    dispatch(addFriend(friend));  // ğŸŒŠ
  };
  console.log('FriendMain render');

  return (
    <div>
      <button onClick={onAdd}>ì¹œêµ¬ ì¶”ê°€</button>
      <FriendList friends={friends} />
    </div>
  );
};
```

- ğŸŒˆ: ì»´í¬ë„ŒíŠ¸ê°€ ë¦¬ë•ìŠ¤ ìƒíƒ¯ê°’ ë³€ê²½ì— ë°˜ì‘í•˜ê¸° ìœ„í•´ì„œëŠ” react-redux ì—ì„œ ì œê³µí•˜ëŠ” `useSelector` í›…ì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤. useSelector í›…ì— ì…ë ¥í•˜ëŠ” í•¨ìˆ˜ë¥¼ ì„ íƒì í•¨ìˆ˜ë¼ê³  í•˜ë©° ì´ í•¨ìˆ˜ê°€ ë°˜í™˜í•˜ëŠ” ê°’ì´ ê·¸ëŒ€ë¡œ í›…ì˜ ë°˜í™˜ ê°’ìœ¼ë¡œ ì‚¬ìš©ëœë‹¤. useSelector í›…ì€ ë¦¬ë•ìŠ¤ì˜ **ìƒíƒ¯ê°’ì´ ë³€ê²½ë˜ë©´** `ì´ì „ ë°˜í™˜ê°’`ê³¼ `ìƒˆë¡œìš´ ë°˜í™˜ê°’`ì„ **ë¹„êµ**í•œë‹¤. ë‘ ê°’ì´ ë‹¤ë¥¸ ê²½ìš°ì—ë§Œ ì»´í¬ë„ŒíŠ¸ë¥¼ ë‹¤ì‹œ ë Œë”ë§í•œë‹¤.
- ğŸŒ”: ì•¡ì…˜ì„ ë°œìƒì‹œí‚¤ê¸° ìœ„í•´ dispatch í•¨ìˆ˜ê°€ í•„ìš”í•˜ë‹¤. useDispatch í›…ì„ í˜¸ì¶œí•˜ë©´ dispatch í•¨ìˆ˜ë¥¼ ë°˜í™˜í•œë‹¤.
- ğŸŒŠ: dispatch í•¨ìˆ˜ë¥¼ ì´ìš©í•´ì„œ ì¹œêµ¬ë¥¼ ì¶”ê°€í•˜ëŠ” ì•¡ì…˜ì„ ë°œìƒì‹œí‚¨ë‹¤.

íƒ€ì„ë¼ì¸ ì¶”ê°€ ë²„íŠ¼ì„ í´ë¦­í•´ë„, FriendMain ì»´í¬ë„ŒíŠ¸ í•¨ìˆ˜ëŠ” í˜¸ì¶œë˜ì§€ ì•ŠëŠ”ë‹¤. ì•Œì•„ì„œ ê´€ë¦¬í•´ì£¼ëŠ” ê±°ì„.

---

### useSelector í›…ìœ¼ë¡œ ì—¬ëŸ¬ ìƒíƒ¯ê°’ ë°˜í™˜í•˜ê¸°

useSelector í›…ìœ¼ë¡œ ì—¬ëŸ¬ ìƒíƒ¯ê°’ì„ ê°€ì ¸ì˜¤ë ¤ë©´ ì„ íƒì í•¨ìˆ˜ê°€ ê°ì²´ë¥¼ ë°˜í™˜í•´ì•¼ í•¨. ì´ë•Œ ê°ì²´ ë¦¬í„°ëŸ´ ë¬¸ë²•ì„ ì´ìš©í•˜ë©´ ì‹¤ì œ ìƒíƒ¯ê°’ì´ ë°”ë€Œì§€ ì•Šì•„ë„ ë§¤ë²ˆ ìƒˆë¡œìš´ ê°ì²´ê°€ ë°˜í™˜ë˜ì–´ ë¬¸ì œê°€ ëœë‹¤. useSelector í›…ìœ¼ë¡œ ì—¬ëŸ¬ ìƒíƒ¯ê°’ì„ ë°˜í™˜í•˜ê¸° ìœ„í•´ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì€ ë°©ë²•ì„ ìƒê°í•´ë³¼ ìˆ˜ ìˆë‹¤.

- useSelector í›…ì„ í•„ìš”í•œ ê°œìˆ˜ë§Œí¼ ì‚¬ìš©í•œë‹¤.
- ë©”ëª¨ì´ì œì´ì…˜ì„ ì´ìš©í•œë‹¤.
- useSelector í›…ì˜ ë‘ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ë¥¼ í™œìš©í•œë‹¤.

useSelector í›…ì„ ì—¬ëŸ¬ë²ˆ ì‚¬ìš©í•œë‹¤ê³  íŠ¹ë³„íˆ ì„±ëŠ¥ì´ ë–¨ì–´ì§€ê±°ë‚˜ í•˜ì§€ëŠ” ì•ŠëŠ”ë‹¤. ë”°ë¼ì„œ ì½”ë“œë¥¼ ì—¬ëŸ¬ ë²ˆ ì‘ì„±í•˜ëŠ” ë²ˆê±°ë¡œì›€ì„ ê°ìˆ˜í•  ìˆ˜ ìˆë‹¤ë©´ ì´ ë°©ë²•ì„ ì‚¬ìš©í•˜ë©´ ë¨. ë˜ëŠ” reselectì™€ ê°™ì€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ ë©”ëª¨ì´ì œì´ì…˜ ê¸°ëŠ¥ì„ ì´ìš©í•˜ëŠ” ë°©ë²•ë„ ìˆëŠ”ë°, reselect ì— ëŒ€í•œ ë‚´ìš©ì€ ë’¤ì— ì„¤ëª….

useSelect í›…ì˜ ë‘ ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ëŠ” ì»´í¬ë„ŒíŠ¸ ë Œë”ë§ ì—¬ë¶€ë¥¼ íŒë‹¨í•˜ëŠ” ì—­í• ì„ í•œë‹¤. ì´ ë§¤ê°œë³€ìˆ˜ë¥¼ ì…ë ¥í•˜ì§€ ì•Šìœ¼ë©´ ì°¸ì¡°ê°’ë§Œ ë¹„êµí•˜ëŠ” ë‹¨ìˆœ ë¹„êµ í•¨ìˆ˜ê°€ ì‚¬ìš©ëœë‹¤. ë”°ë¼ì„œ ì„ íƒì í•¨ìˆ˜ê°€ ê°ì²´ ë¦¬í„°ëŸ´ì„ ë°˜í™˜í•˜ë©´ ì»´í¬ë„ŒíŠ¸ê°€ ë¶ˆí•„ìš”í•˜ê²Œ ìì£¼ ë Œë”ë§ ë˜ëŠ” ë¬¸ì œê°€ ìƒê¸¸ ìˆ˜ ìˆë‹¤. ì´ë•Œ react-redux ì—ì„œ ì œê³µí•˜ëŠ” `shallowEqual` í•¨ìˆ˜ë¥¼ ì´ìš©í•  ìˆ˜ ìˆë‹¤.

ë‹¤ìŒì€ shallowEqual í•¨ìˆ˜ë¥¼ ì´ìš©í•´ì„œ ì—¬ëŸ¬ ê°œì˜ ìƒíƒ¯ê°’ì„ ë°˜í™˜í•˜ëŠ” ì½”ë“œë‹¤.

```jsx
import { shallowEqual } from 'react-redux';

export default function MyComponent() {
  const [value1, value2, value3] = useSelector(
    state => [state.value1, state.value2, state.value3],  // ğŸŒˆ
    shallowEqual,  // ğŸŒ”
  );
}
```

- ğŸŒˆ: ì—¬ëŸ¬ ê°œì˜ ìƒíƒ¯ê°’ì„ ë°°ì—­ì— ë‹´ì•„ì„œ ë°˜í™˜í•œë‹¤.
- ğŸŒ”: useSelector í›…ì˜ ë‘ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ì— shallowEqual í•¨ìˆ˜ë¥¼ ì…ë ¥í•˜ë©´ ë°°ì—´ì˜ ê° ì›ì†Œê°€ ë³€ê²½ëëŠ”ì§€ ê²€ì‚¬í•œë‹¤. ì›í•œë‹¤ë©´ ë°˜í™˜ê°’ìœ¼ë¡œ ë°°ì—´ ë¿ ì•„ë‹ˆë¼ ê°ì²´ë¥¼ ì‚¬ìš©í•  ìˆ˜ë„ ìˆë‹¤.

ë§Œì•½ shallowEqual í•¨ìˆ˜ë¥¼ ìì£¼ ì‚¬ìš©í•˜ê²Œ ëœë‹¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì»¤ìŠ¤í…€ í›…ìœ¼ë¡œ ë§Œë“¤ì–´ ì‚¬ìš©í•˜ë©´ í¸í•˜ë‹¤.

```js
function useMySelector(selector) {
  return useSelector(selector, shallowEqual); // ğŸ”¥
}

function MyComponent() {
  const [value1, value2] = useMySelector(state => [state.value1, state.value2]);
  const value3 = useMySelector(state => state.value3);  // ğŸŒŠ
  const [value4] = useMySelector(state= > [state.value4]);  // ğŸ‘»
}
```

- ğŸ”¥: í•­ìƒ `shallowEqual` í•¨ìˆ˜ë¥¼ ì…ë ¥í•œë‹¤.
- ğŸŒŠ: ë‹¨, ì´ ë°©ë²•ì€ ìƒíƒ¯ê°’ì„ í•˜ë‚˜ë§Œ ë°˜í™˜í•˜ëŠ” ê²½ìš°ì—ëŠ” ë‹¤ì†Œ ë¹„íš¨ìœ¨ì ìœ¼ë¡œ ë™ì‘í•  ìˆ˜ ìˆë‹¤.
- ğŸ‘»: ë§Œì•½ ì„±ëŠ¥ì´ ê±±ì •ëœë‹¤ë©´ ìƒíƒ¯ê°’ì„ í•˜ë‚˜ë§Œ ë°˜í™˜í•  ë•Œë„ ë°°ì—´ë¡œ ê°ì‹¸ë©´ ëœë‹¤.
