# splice, slice

맨날 헷갈리는 splice와 slice

> [출처](https://www.daleseo.com/js-array-slice-splice/)

## slice

배열로 부터 특정 범위를 복사한 값들을 담고 있는 **새로운 배열**을 만드는데 사용.

첫번째 인자로 시작 index, 두번째 인자로 종료 인덱스를 받으며, 시작 인덱스부터 종료 인덱스까지 값을 복사하여 반환함.

```js
const nums = Array(20).fill().map((_, i) => i);
// [ 0,  1,  2,  3,  4,  5,  6, 7,  8,  9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19 ]
```

이 배열에서 5~9 까지를 복사한 값을 담고 있는 새로운 배열을 만들어보자.

```js
nums.slice(5, 10); // [ 5, 6, 7, 8, 9 ]
```

주의 점은, 첫 번째 인자로 넘어온 시작 인덱스가 가리키는 값은 포함하지만, 두 번째 인자로 넘어온 종료 인덱스가 가리키는 값은 포함하지 않는다.

두 번째 인자를 넘기지 않으면, 시작 인덱스가 가리키는 값부터 배열의 마지막 값까지 모두 복사해준다.

```js
nums.slice(10); // [ 10, 11, 12, 13, 14, 15, 16, 17, 18, 19 ]
```

첫번째 인자도 넘기지 않으면, 배열의 처음 값부터 마지막 값까지 전체를 복제해버리는 효과를 낼 수도 있다.

```js
nums.slice(); // [ 0,  1,  2,  3,  4,  5,  6, 7,  8,  9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19 ]
```

slice 함수는 `splice`와 달리 아무리 많이 호출해도 원본 배열의 값은 절대 건드리지 않는다. 따라서 원본 배열이 그대로 보존되어야 하는 상황에서 매우 유용하게 사용된다.

<br/>

## splice

다목적으로 사용될 수 있다. 이 함수로는 배열로부터 특정 범위를 삭제하거나 새로운 값을 추가 또는 기존 값을 대체할 수 있다.

첫 번째 인자로 시작 index, 두번째 인자로 몇개의 값을 삭제할지, 그리고 세 번째 인자부터는 추가할 값을 가변인자로 넘길 수 있으며, 삭제된 값을 담고 있는 배열을 반환한다.

nums 숫자 배열에서 인덱스 5가 가리키는 값부터 3개의 값을 삭제해보자.

```js
nums.splice(5, 3); // [ 5, 6, 7 ]
nums // [ 0,  1,  2,  3,  4,  8,  9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19 
```

삭제된 3개의 값을 담고 있는 배열이 반환되며, 원본 배열로부터 3개의 값이 빠져나간 것을 볼 수 있음.

이번에는 인덱스 5가 가리키는 값부터 아무 값도 삭제하지 않고, `-5`, `-6`, `-7` 을 추가해보자.

```js
nums.splice(5, 0, -5, -6, -7); // []
nums; // [ 0,  1,  2,  3,  4, -5, -6, -7, 5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19 ]
```

삭제된 값이 없으므로 빈 배열이 반환되고, 이전에 값이 삭제된 자리에 `-5`, `-6`, `-7` 이 들거아 있다.

splice에 첫 번째 인자만 넘기면 해당 인덱스가 가리키는 값을 포함해 배열의 마지막 값까지 삭제된다.

```js
nums.splice(15); // [ 15, 16, 17, 18, 19 ]
nums; // [ 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14 ]
```

splice 함수를 사용할 때 주의 점은 삭제된 값을 담고 있는 새로운 배열이 반환될 뿐 아니라 원본 배열에도 변경이 가해진다는 점. 의도치 않은 데이터 유식이나 별경으로 이어질 수 있으니 데이터의 불변성(immutability)이 보장되어야 하는 로직에서 주의해야 함.

<br/>

## slice vs splice

이름이 비슷하기도 하고, 동일한 목적을 위해 아무거나 사용해도 무방한 경우가 있기 때문임. 항상 같은 배열을 반환하는 slice 함수와 달리 splice는 계속해서 배열을 깎아먹기 때문에 동일한 인자로 여러 번 함수를 호출 했을 때 매번 다른 배열이 반환되게 된다.