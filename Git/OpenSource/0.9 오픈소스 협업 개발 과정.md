# 오픈소스 협업 개발 과정

<br/>

- Git은 기본적으로 History 관리의 의미지만, Collaboraction Tool(협업 툴)의 의미가 더 크다.
- Hello world 찍을때, Git이 필요한가?
  - 그렇진 않다. 오픈소스 플젝에서는 한줄을 수정하더라도 git이 필요하다.
  - 협업 시 단위가 commit이 되는 것이다.
  - Hello world를 찍는 것이라도 git이 필요하다.

---

## PR, Issue 프로페셔널하게 사용하기

- PR
  - 내 커밋을 다른 사람 프로젝트에 제출하는 것이다.
  - **CONTRIBUTING.md** 파일을 무조건 읽어야 한다.
    - 여긴 코딩 스타일이라던지 디테일하게 스타일이 명시되어 있다.
  - before, after 설명이 필요하다. 왜 했고, 이전엔 어땠는데, 이후에 어땠다. 이렇게. 단어들도 이해를 해야한다.
  - 오픈소스에서 PR을 적는 정답의 양식이 있지는 않다.
    - 하지만, 마음대로 쓰면 안된다. 오답은 분명하다.
    - 설명이 구체화 되면 될 수록 협업이 구체화 된다.
    - filter -> 이것처럼 어떤 파트를 prefix로 넣어주면 얼마나 좋나?
      - support afloat time value for trigger -> 원래 되던 기능인데 다른 플랫폼에서 동작하게끔 되었다. 서포트.
    - 커밋이 크니까, 3개로 쪼갰으면 좋겠다.
    - 어떤 기준으로 쪼개야 하나? 몇 라인으로 적어야 하나?
    - **리뷰나, 디스커션 하기 좋은 단위로 하면 유리하다.**
      - 작게 만드는게 조금 더 유리하다.
      - 가이드가 따르는 것도 좋지만, 그런게 의존하기보다는 방향성을 보면 좋다.
      - 메인테이너도 실수 할 수 있다.
      - 협업에 과정에 올바르게 가는게 좋다.
        - 이 방향으로 논의를 할 수도 있다.
      - commit 갯수가 많아지는 것에 걱정하지 말고, blame 때문에 잘게 쪼개는게 더 맞다고 본다.
  - 댓글을 달 수 있다.
  - 리뷰를 할 수 있고, 소스코드도 넣을 수 있다.
  - PR을 보냈는데 바로 머지 VS 거절 & 거절 & 거절 어떤게 좋은가?
    - 이상적인 것은 후자다.
    - 우리에게 중요한 것은 리뷰는 협업의 생명력이다.
    - 그냥 머지 머지는 협업이 아니라 분업이다.
    - 그럴 때 오픈소스의 생명력이 있는 것이다.
    - 단, 감정적으로 실망이 있을 수 있다.
      - 나를 싫어하나? 이럴 수도 있다.
      - 내가 작업하고 있는게 디스커션이 필요한 작업이구나 라고 생각하면 편하다.
    - 오픈소스는 협업이 제대로 이루어지고 있는지를 큰 Goal을 보면 된다.
- Issue
  - 글만 적는 것이다. -> 다시 듣기 PR과 차이점
  - 바로 PR 보내는 것보다 이슈로 먼저 물어보는게 낫지 않나?
    - 아닐 수 있다. 바로 코드로 말해줄 수 있다.
    - 오픈소스 세계에서, 바로 merge되는게 아니기 때문에 오히려 수정해서 같이 보내면서 PR 게시판 안에서 논의하는게 더 성의있는 것이다.
  - Label 달 수 있다.
  - 이슈 게시판에 뭘 올릴 수 있을까?
    - 가장 많은게 버그 리포트를 생각할 수 있다.
    - 하지만, 질문도 할 수 있다. 물론 검색을 먼저 해야함.. 내가 궁금한 것은 다른 사람도 궁금할 것.
      - 이슈를 올리는 것 자체도 컨트리뷰션이다.
    - 제안도 할 수 있다.
  - 버그 리포트를 올릴 때 버전을 먼저 명시해주는게 좋다.
    - 버그 리포트를 올릴 때의 최악은, `안되요` 다.
    - 좋은 예시는 어떤 os, 어떤 환경에서 했는데 안되었다, 그리고 이런 에러메세지가 있었고, 어떤 소스가 이상한 것 같다 이렇게 상세하게 해주는게 젤 좋음. 파일(바이너리)를 올려줘도 좋다.
  - 마크다운 문법으로 토의 할 수 있다.
    - 줄임말도 많이 쓴다. FYI(for your information = 참고로)
      - IIRC 도 많이 쓰입니다. If I remember correctly,
  - 이슈를 뭘로 해결했는지 바로 링크로 줄 수 있다. #91 같은. 이슈 넘버로 명시를 해주는?
  - 먼저, 프로젝트에서 어떤 논의가 이루어지고 있는지? 그리고 blame으로 찾아보거나? 분석이 먼저다.
  - 오너가 마스터 브랜치에다가 푸시를 안하고, 다른 브랜치에다가 올려놓고, 이슈게시판에 글을 쓴 상황 어때?
    - 이상하다면 오해다.
    - 독단적으로 개발이 이루어지는게 아니라 함께 개발하는 것이므로, 플젝을 막 움직이는 것은 오픈소스 문화에 맞지 않는 것이다.
    - 내가 이렇게 만들었는데 어떻게 생각해? 라고 물어볼 줄 아는 것.
    - 함께 의사결정해서 merge. 심지어는 본인이 권한이 있다고 하더라도.
    - 단, 빨리 hotfix 해야하는 것들은 빨리 merge 한다.

---

### FAQ

**버그를 수정했을때** **commit message** **어떻게 작성할것인가 ?** **(예시, B라는 문제가 발생했는데, if문에 A라는 조건이 없어서였다.)**

- Fix B problem
  - 좋긴 한데, fix랑, improve 차이점
    - fix는 안되는 걸 고친거, imporve는 잘 되는데 더 좋게 고침
  - ed나 ing 안붙여도 된다.
    - 즉, 동사로 적어도 된다.
  - 1줄로 적는 건 제목만 적는 것이다.
  - `fs ext4: Fix B problem`
    - 이렇게 분야를 정해줄 수 있다.
  - Why(이유) vs How(방법) 적는 방식이 있다.
    - 뭘 적는게 더 좋나? Why를 적는게 이상적이다.
    - 8:2, 7:3 정도로 좋는게 좋다.
    - 즉, 내가 어떻게 코드를 작성했는지를 더 작게 가져가야 함.
    - 왜 내가 이걸 했는지가 7, 8 이 되어야 하고, 내가 어떤 방식으로 어떤 코드로 어떤 방법으로 했는지가 3, 2가 되어야 함.
    - 어떤 어떤 상황에서 B 에러가 발생할 수 있다.(when ~~, the B error can occur) 이거에 대한 이유가 어떤거다.(The reason is that~~~,) 그래서 고친다.(so fix it.)
    - 이러면 커밋 메세지가 완성된거냐? -> 아니다.
      - Fixed #91 -> 이슈 넘버라던지
      - Fixed 4l2d03jf02 ("fs ext4: Add B feature") -> 이전에 어떤 커밋을 추가했는데 그것때매 지금 어떤 기능에 문제가 생겼다. 그래서 이 커밋을 만들어 넣었다. 이렇게.
      - Cc: Taeung Song <taeung@reallinux.co.kr> 이렇게 작성자를 넣을 수도 있고,
      - Reported-by: Taeung Song: 레포팅이 누군지 명시해줄 수도 있다.

즉, 가장 중요한 것은 정답은 없지만 오답은 명확하다는 것 처럼, **협업에 도움이 되는지 아닌지**를 구분하는게 제일 중요.

---

### **maintainer/reviewer가 PR에 댓글로** **rebase** **하라고 comment 했다.**

- 일반적으로 리뷰는 굉장히 어려운 것이다.
- 어떤 사람이 기능개발을 해서 올렸다. 이 코드가 왔을 때 어떤 사이드 이펙트가 있는지 알아야 함. 설계자.
- 그런 전체적으로 아우를 수 있는 사람이 리뷰어다. 문법만 아는 사람이 아니라.

<br/>

<br/>

## Commit message 작성 Tip

- 제목작성 요령
  - 카테고리 분류
  - **한줄요약**
- 본문 작성 요령
  - 구체적인 서술
  - **why 이유**가 들어나게
  - 해당 line에 대한 blame 조사와 cc등과 함께 명시
  - 참고할 commit ID, title 정보
  - 해결한 issue 번호
  - 함께 작업한 사람 또는 Reporter, Suggester 명시
- 라이센스와 본인인증
  - signed-off-by, CLA 등록
