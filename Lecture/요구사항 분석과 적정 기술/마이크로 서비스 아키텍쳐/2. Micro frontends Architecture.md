# Micro frontends Architecture

MSA에서 가장 중요한 개념은 **격리**다. FE는 MFA 라고 함.

MSA 구조라 하더라도, FE 입장에서는 코드 자체가 한 베이스 일 수 있다. 이 중 하나라도 죽으면 FE에서는 모두 죽는 경우가 생길 수 있다. 따라서 백엔드 구조는 MSA 라고 하더라도 FE가 한 코드 베이라면 관심사 분리가 제대로 되지 않았다고 볼 수 있다.

따라서 결제 상품 장바구니 같이 나눠진 관심사가 FE에서 각각 만들어야 대응이 잘 되었다고 할 수 있다. 따라서 배포 주기도 다르게 됨.

이 구성을 어떻게 할지는 다양한 방법을 가져갈 수 있다.

<br/>

## MFA의 여러 방식

- **iFrame 사용**
  - 상품, 결제, 장바구니를 각각 iFrame으로 불러다 사용하게 하고
  - 한 페이지에서 이 iFrame을 관리하며,
  - 한 서비스가 죽을 경우 어떤 서비스가 불가능합니다 라고 띄워주면 된다.
  - 단점은, UX측면에서 좋지 않음.
    - 결제 페이지에 들어갔는데 결제가 죽었음.
    - 결제 페이지에 들어갔는데 상품, 장바구니가 들어있는게 맞는가?
  - 개발자가 많이 필요하다.
    - A, B, C 서비스를 만드는 사람이 각각.
- **MonoRepo**
  - 여러 패키지 만들고, import 해서 가져오는 방법.
  - 관심사**만**, 분리됨.
  - 각 패키지는 api를 바라보긴 하지만 패키지를 가져가 쓰는 곳에서는 페이지를 뭉쳐서 씀.
