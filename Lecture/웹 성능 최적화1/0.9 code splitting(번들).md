# Code splitting(번들)

0.5 에서는 페이지 단위 코드 스플리팅을 사용했지만, 이번엔 기능 단위로 나눠보자.

![[assets/images/0fa3e4e747f4b82d3fdffa24d743d9e7_MD5.png]]

image-gallery.js 파일은 첫 페이지를 로드했을 때 바로 띄울 필요가 없는 것이다.
```jsx
import ImageModal from './components/ImageModal'

{showModal ? <ImageModal closeModal={() => { setShowModal(false) }} /> : null}
```
이걸 동적 import 를 사용해 분할해보자.
```jsx
const ImageModal = lazy(() => import('./components/ImageModal'));

<Suspense fallback={null}>
  {showModal ? (
    <ImageModal
      closeModal={() => {
        setShowModal(false);
      }}
    />
  ) : null}
</Suspense>
```
![[assets/images/9c84cb3a760bd3ec685885d9ec87e3a8_MD5.png]]
