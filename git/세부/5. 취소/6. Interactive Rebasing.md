# Interactive Rebasing(이전 커밋 수정하기)



기존에 존재하는 history 를 간편하게 수정할 수 있다. 기존 history를 건드는 것이므로 서버에 올라가 있다면 사용하지 말자. 혼자서 작업해야하는 경우에만 사용할 것.

<br/>

<br/>

기존에는 `git commit --amend` 옵션을 사용해 방금 commit 한 내용을 고쳤지만, 이미 지난 commit을 고치고 싶다면? Interactive Rebasing 을 사용하면 됌!

단, 이것을 사용하면 사용된 대상의 커밋 이후 최근 커밋까지 모두 포인터가 변경되는 것이므로 전부 새로운 item이 되는 것이다.

<br/>

<br/>

## 데모

<img width="632" alt="스크린샷 2021-05-05 오후 7 08 46" src="https://user-images.githubusercontent.com/59427983/117126169-5c1d5e80-add5-11eb-9817-ecf271f53e7f.png">

위와 같은 커밋이 있을 때, **WIP** 이라는 커밋을 수정하려면 Add payment library and Add payment service의 해시코드인 98955fc 부터 시작해야 한다. 그 위 커밋들 모두 포인터가 바뀌어 새로운 녀석들이 되는 것임.

```sh
$ git rebase -i [해시값]
```

명령어를 실행하면,

<img width="866" alt="스크린샷 2021-05-05 오후 7 11 44" src="https://user-images.githubusercontent.com/59427983/117126467-c0d8b900-add5-11eb-9ba4-e5d76b044ab8.png">

위와 같은 vscode 편집기가 뜬다. 왼쪽의 pick이라는 부분에서 선택하면서 원하는 기능을 할 수 있음.

- pick : 기존 것을 그대로 쓴다.
- reword : 메세지를 변경하겠다.
- edit : 커밋을 사용하지만 안에 소스를 변경하겠다.
- squash : 여러 개의 커밋을 하나로 묶어주겠다.
- fixup : squash와 비슷하지만 메세지를 남기지 않겠다.
- exec : (거의 안씀) commit 부터 shell 명령어를 직접적으로 이용하고 싶을 때.
- break : 여기서 멈춰라.
- drop : commit을 지우고 싶다.

WIP의 메세지를 변경하고 싶으므로,

<img width="865" alt="스크린샷 2021-05-05 오후 7 17 02" src="https://user-images.githubusercontent.com/59427983/117127062-94716c80-add6-11eb-8ef8-6cf0d3ef155c.png">

이렇게 해주면 된다. 그러면 다시 메세지를 변경할 수 있는 창이 뜨고 거기서 commit message를 수정해주면 된다.

<img width="629" alt="스크린샷 2021-05-05 오후 7 19 11" src="https://user-images.githubusercontent.com/59427983/117127269-d69aae00-add6-11eb-9ac4-6e437ca9e868.png">

이렇게 잘 바뀌었다.